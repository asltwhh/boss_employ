{"ast":null,"code":"import _extends from 'babel-runtime/helpers/extends';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport React from 'react';\nexport var StateType = function StateType() {\n  _classCallCheck(this, StateType);\n};\nvar instanceId = 0;\nexport var Tabs = function (_React$PureComponent) {\n  _inherits(Tabs, _React$PureComponent);\n\n  function Tabs(props) {\n    _classCallCheck(this, Tabs);\n\n    var _this = _possibleConstructorReturn(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, props));\n\n    _this.tabCache = {};\n\n    _this.isTabVertical = function () {\n      var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.tabDirection;\n      return direction === 'vertical';\n    };\n\n    _this.shouldRenderTab = function (idx) {\n      var _this$props$prerender = _this.props.prerenderingSiblingsNumber,\n          prerenderingSiblingsNumber = _this$props$prerender === undefined ? 0 : _this$props$prerender;\n      var _this$state$currentTa = _this.state.currentTab,\n          currentTab = _this$state$currentTa === undefined ? 0 : _this$state$currentTa;\n      return currentTab - prerenderingSiblingsNumber <= idx && idx <= currentTab + prerenderingSiblingsNumber;\n    };\n\n    _this.getOffsetIndex = function (current, width) {\n      var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props.distanceToChangeTab || 0;\n      var ratio = Math.abs(current / width);\n      var direction = ratio > _this.state.currentTab ? '<' : '>';\n      var index = Math.floor(ratio);\n\n      switch (direction) {\n        case '<':\n          return ratio - index > threshold ? index + 1 : index;\n\n        case '>':\n          return 1 - ratio + index > threshold ? index : index + 1;\n\n        default:\n          return Math.round(ratio);\n      }\n    };\n\n    _this.getSubElements = function () {\n      var children = _this.props.children;\n      var subElements = {};\n      return function () {\n        var defaultPrefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '$i$-';\n        var allPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '$ALL$';\n\n        if (Array.isArray(children)) {\n          children.forEach(function (child, index) {\n            if (child.key) {\n              subElements[child.key] = child;\n            }\n\n            subElements['' + defaultPrefix + index] = child;\n          });\n        } else if (children) {\n          subElements[allPrefix] = children;\n        }\n\n        return subElements;\n      };\n    };\n\n    _this.state = {\n      currentTab: _this.getTabIndex(props)\n    };\n    _this.nextCurrentTab = _this.state.currentTab;\n    _this.instanceId = instanceId++;\n    return _this;\n  }\n\n  _createClass(Tabs, [{\n    key: 'getTabIndex',\n    value: function getTabIndex(props) {\n      var page = props.page,\n          initialPage = props.initialPage,\n          tabs = props.tabs;\n      var param = (page !== undefined ? page : initialPage) || 0;\n      var index = 0;\n\n      if (typeof param === 'string') {\n        tabs.forEach(function (t, i) {\n          if (t.key === param) {\n            index = i;\n          }\n        });\n      } else {\n        index = param || 0;\n      }\n\n      return index < 0 ? 0 : index;\n    }\n  }, {\n    key: 'componentWillReceiveProps',\n    value: function componentWillReceiveProps(nextProps) {\n      if (this.props.page !== nextProps.page && nextProps.page !== undefined) {\n        this.goToTab(this.getTabIndex(nextProps), true, {}, nextProps);\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.prevCurrentTab = this.state.currentTab;\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      this.prevCurrentTab = this.state.currentTab;\n    }\n  }, {\n    key: 'goToTab',\n    value: function goToTab(index) {\n      var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n      var newState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      var props = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.props;\n\n      if (!force && this.nextCurrentTab === index) {\n        return false;\n      }\n\n      this.nextCurrentTab = index;\n      var tabs = props.tabs,\n          onChange = props.onChange;\n\n      if (index >= 0 && index < tabs.length) {\n        if (!force) {\n          onChange && onChange(tabs[index], index);\n\n          if (props.page !== undefined) {\n            return false;\n          }\n        }\n\n        this.setState(_extends({\n          currentTab: index\n        }, newState));\n      }\n\n      return true;\n    }\n  }, {\n    key: 'tabClickGoToTab',\n    value: function tabClickGoToTab(index) {\n      this.goToTab(index);\n    }\n  }, {\n    key: 'getTabBarBaseProps',\n    value: function getTabBarBaseProps() {\n      var currentTab = this.state.currentTab;\n      var _props = this.props,\n          animated = _props.animated,\n          onTabClick = _props.onTabClick,\n          tabBarActiveTextColor = _props.tabBarActiveTextColor,\n          tabBarBackgroundColor = _props.tabBarBackgroundColor,\n          tabBarInactiveTextColor = _props.tabBarInactiveTextColor,\n          tabBarPosition = _props.tabBarPosition,\n          tabBarTextStyle = _props.tabBarTextStyle,\n          tabBarUnderlineStyle = _props.tabBarUnderlineStyle,\n          tabs = _props.tabs;\n      return {\n        activeTab: currentTab,\n        animated: !!animated,\n        goToTab: this.tabClickGoToTab.bind(this),\n        onTabClick: onTabClick,\n        tabBarActiveTextColor: tabBarActiveTextColor,\n        tabBarBackgroundColor: tabBarBackgroundColor,\n        tabBarInactiveTextColor: tabBarInactiveTextColor,\n        tabBarPosition: tabBarPosition,\n        tabBarTextStyle: tabBarTextStyle,\n        tabBarUnderlineStyle: tabBarUnderlineStyle,\n        tabs: tabs,\n        instanceId: this.instanceId\n      };\n    }\n  }, {\n    key: 'renderTabBar',\n    value: function renderTabBar(tabBarProps, DefaultTabBar) {\n      var renderTabBar = this.props.renderTabBar;\n\n      if (renderTabBar === false) {\n        return null;\n      } else if (renderTabBar) {\n        // return React.cloneElement(this.props.renderTabBar(props), props);\n        return renderTabBar(tabBarProps);\n      } else {\n        return React.createElement(DefaultTabBar, tabBarProps);\n      }\n    }\n  }, {\n    key: 'getSubElement',\n    value: function getSubElement(tab, index, subElements) {\n      var defaultPrefix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '$i$-';\n      var allPrefix = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '$ALL$';\n      var key = tab.key || '' + defaultPrefix + index;\n      var elements = subElements(defaultPrefix, allPrefix);\n      var component = elements[key] || elements[allPrefix];\n\n      if (component instanceof Function) {\n        component = component(tab, index);\n      }\n\n      return component || null;\n    }\n  }]);\n\n  return Tabs;\n}(React.PureComponent);\nTabs.defaultProps = {\n  tabBarPosition: 'top',\n  initialPage: 0,\n  swipeable: true,\n  animated: true,\n  prerenderingSiblingsNumber: 1,\n  tabs: [],\n  destroyInactiveTab: false,\n  usePaged: true,\n  tabDirection: 'horizontal',\n  distanceToChangeTab: .3\n};","map":{"version":3,"sources":["E:/workspaces/github/Boss_React/gzhipin-client1.0/node_modules/rmc-tabs/es/Tabs.base.js"],"names":["_extends","_createClass","_possibleConstructorReturn","_inherits","_classCallCheck","React","StateType","instanceId","Tabs","_React$PureComponent","props","_this","__proto__","Object","getPrototypeOf","call","tabCache","isTabVertical","direction","arguments","length","undefined","tabDirection","shouldRenderTab","idx","_this$props$prerender","prerenderingSiblingsNumber","_this$state$currentTa","state","currentTab","getOffsetIndex","current","width","threshold","distanceToChangeTab","ratio","Math","abs","index","floor","round","getSubElements","children","subElements","defaultPrefix","allPrefix","Array","isArray","forEach","child","key","getTabIndex","nextCurrentTab","value","page","initialPage","tabs","param","t","i","componentWillReceiveProps","nextProps","goToTab","componentDidMount","prevCurrentTab","componentDidUpdate","force","newState","onChange","setState","tabClickGoToTab","getTabBarBaseProps","_props","animated","onTabClick","tabBarActiveTextColor","tabBarBackgroundColor","tabBarInactiveTextColor","tabBarPosition","tabBarTextStyle","tabBarUnderlineStyle","activeTab","bind","renderTabBar","tabBarProps","DefaultTabBar","createElement","getSubElement","tab","elements","component","Function","PureComponent","defaultProps","swipeable","destroyInactiveTab","usePaged"],"mappings":"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","sourcesContent":["import _extends from 'babel-runtime/helpers/extends';\r\nimport _createClass from 'babel-runtime/helpers/createClass';\r\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\r\nimport _inherits from 'babel-runtime/helpers/inherits';\r\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\r\nimport React from 'react';\r\nexport var StateType = function StateType() {\r\n    _classCallCheck(this, StateType);\r\n};\r\nvar instanceId = 0;\r\nexport var Tabs = function (_React$PureComponent) {\r\n    _inherits(Tabs, _React$PureComponent);\r\n\r\n    function Tabs(props) {\r\n        _classCallCheck(this, Tabs);\r\n\r\n        var _this = _possibleConstructorReturn(this, (Tabs.__proto__ || Object.getPrototypeOf(Tabs)).call(this, props));\r\n\r\n        _this.tabCache = {};\r\n        _this.isTabVertical = function () {\r\n            var direction = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _this.props.tabDirection;\r\n            return direction === 'vertical';\r\n        };\r\n        _this.shouldRenderTab = function (idx) {\r\n            var _this$props$prerender = _this.props.prerenderingSiblingsNumber,\r\n                prerenderingSiblingsNumber = _this$props$prerender === undefined ? 0 : _this$props$prerender;\r\n            var _this$state$currentTa = _this.state.currentTab,\r\n                currentTab = _this$state$currentTa === undefined ? 0 : _this$state$currentTa;\r\n\r\n            return currentTab - prerenderingSiblingsNumber <= idx && idx <= currentTab + prerenderingSiblingsNumber;\r\n        };\r\n        _this.getOffsetIndex = function (current, width) {\r\n            var threshold = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _this.props.distanceToChangeTab || 0;\r\n\r\n            var ratio = Math.abs(current / width);\r\n            var direction = ratio > _this.state.currentTab ? '<' : '>';\r\n            var index = Math.floor(ratio);\r\n            switch (direction) {\r\n                case '<':\r\n                    return ratio - index > threshold ? index + 1 : index;\r\n                case '>':\r\n                    return 1 - ratio + index > threshold ? index : index + 1;\r\n                default:\r\n                    return Math.round(ratio);\r\n            }\r\n        };\r\n        _this.getSubElements = function () {\r\n            var children = _this.props.children;\r\n\r\n            var subElements = {};\r\n            return function () {\r\n                var defaultPrefix = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '$i$-';\r\n                var allPrefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '$ALL$';\r\n\r\n                if (Array.isArray(children)) {\r\n                    children.forEach(function (child, index) {\r\n                        if (child.key) {\r\n                            subElements[child.key] = child;\r\n                        }\r\n                        subElements['' + defaultPrefix + index] = child;\r\n                    });\r\n                } else if (children) {\r\n                    subElements[allPrefix] = children;\r\n                }\r\n                return subElements;\r\n            };\r\n        };\r\n        _this.state = {\r\n            currentTab: _this.getTabIndex(props)\r\n        };\r\n        _this.nextCurrentTab = _this.state.currentTab;\r\n        _this.instanceId = instanceId++;\r\n        return _this;\r\n    }\r\n\r\n    _createClass(Tabs, [{\r\n        key: 'getTabIndex',\r\n        value: function getTabIndex(props) {\r\n            var page = props.page,\r\n                initialPage = props.initialPage,\r\n                tabs = props.tabs;\r\n\r\n            var param = (page !== undefined ? page : initialPage) || 0;\r\n            var index = 0;\r\n            if (typeof param === 'string') {\r\n                tabs.forEach(function (t, i) {\r\n                    if (t.key === param) {\r\n                        index = i;\r\n                    }\r\n                });\r\n            } else {\r\n                index = param || 0;\r\n            }\r\n            return index < 0 ? 0 : index;\r\n        }\r\n    }, {\r\n        key: 'componentWillReceiveProps',\r\n        value: function componentWillReceiveProps(nextProps) {\r\n            if (this.props.page !== nextProps.page && nextProps.page !== undefined) {\r\n                this.goToTab(this.getTabIndex(nextProps), true, {}, nextProps);\r\n            }\r\n        }\r\n    }, {\r\n        key: 'componentDidMount',\r\n        value: function componentDidMount() {\r\n            this.prevCurrentTab = this.state.currentTab;\r\n        }\r\n    }, {\r\n        key: 'componentDidUpdate',\r\n        value: function componentDidUpdate() {\r\n            this.prevCurrentTab = this.state.currentTab;\r\n        }\r\n    }, {\r\n        key: 'goToTab',\r\n        value: function goToTab(index) {\r\n            var force = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\r\n            var newState = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\r\n            var props = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : this.props;\r\n\r\n            if (!force && this.nextCurrentTab === index) {\r\n                return false;\r\n            }\r\n            this.nextCurrentTab = index;\r\n            var tabs = props.tabs,\r\n                onChange = props.onChange;\r\n\r\n            if (index >= 0 && index < tabs.length) {\r\n                if (!force) {\r\n                    onChange && onChange(tabs[index], index);\r\n                    if (props.page !== undefined) {\r\n                        return false;\r\n                    }\r\n                }\r\n                this.setState(_extends({ currentTab: index }, newState));\r\n            }\r\n            return true;\r\n        }\r\n    }, {\r\n        key: 'tabClickGoToTab',\r\n        value: function tabClickGoToTab(index) {\r\n            this.goToTab(index);\r\n        }\r\n    }, {\r\n        key: 'getTabBarBaseProps',\r\n        value: function getTabBarBaseProps() {\r\n            var currentTab = this.state.currentTab;\r\n            var _props = this.props,\r\n                animated = _props.animated,\r\n                onTabClick = _props.onTabClick,\r\n                tabBarActiveTextColor = _props.tabBarActiveTextColor,\r\n                tabBarBackgroundColor = _props.tabBarBackgroundColor,\r\n                tabBarInactiveTextColor = _props.tabBarInactiveTextColor,\r\n                tabBarPosition = _props.tabBarPosition,\r\n                tabBarTextStyle = _props.tabBarTextStyle,\r\n                tabBarUnderlineStyle = _props.tabBarUnderlineStyle,\r\n                tabs = _props.tabs;\r\n\r\n            return {\r\n                activeTab: currentTab,\r\n                animated: !!animated,\r\n                goToTab: this.tabClickGoToTab.bind(this),\r\n                onTabClick: onTabClick,\r\n                tabBarActiveTextColor: tabBarActiveTextColor,\r\n                tabBarBackgroundColor: tabBarBackgroundColor,\r\n                tabBarInactiveTextColor: tabBarInactiveTextColor,\r\n                tabBarPosition: tabBarPosition,\r\n                tabBarTextStyle: tabBarTextStyle,\r\n                tabBarUnderlineStyle: tabBarUnderlineStyle,\r\n                tabs: tabs,\r\n                instanceId: this.instanceId\r\n            };\r\n        }\r\n    }, {\r\n        key: 'renderTabBar',\r\n        value: function renderTabBar(tabBarProps, DefaultTabBar) {\r\n            var renderTabBar = this.props.renderTabBar;\r\n\r\n            if (renderTabBar === false) {\r\n                return null;\r\n            } else if (renderTabBar) {\r\n                // return React.cloneElement(this.props.renderTabBar(props), props);\r\n                return renderTabBar(tabBarProps);\r\n            } else {\r\n                return React.createElement(DefaultTabBar, tabBarProps);\r\n            }\r\n        }\r\n    }, {\r\n        key: 'getSubElement',\r\n        value: function getSubElement(tab, index, subElements) {\r\n            var defaultPrefix = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '$i$-';\r\n            var allPrefix = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : '$ALL$';\r\n\r\n            var key = tab.key || '' + defaultPrefix + index;\r\n            var elements = subElements(defaultPrefix, allPrefix);\r\n            var component = elements[key] || elements[allPrefix];\r\n            if (component instanceof Function) {\r\n                component = component(tab, index);\r\n            }\r\n            return component || null;\r\n        }\r\n    }]);\r\n\r\n    return Tabs;\r\n}(React.PureComponent);\r\nTabs.defaultProps = {\r\n    tabBarPosition: 'top',\r\n    initialPage: 0,\r\n    swipeable: true,\r\n    animated: true,\r\n    prerenderingSiblingsNumber: 1,\r\n    tabs: [],\r\n    destroyInactiveTab: false,\r\n    usePaged: true,\r\n    tabDirection: 'horizontal',\r\n    distanceToChangeTab: .3\r\n};"]},"metadata":{},"sourceType":"module"}